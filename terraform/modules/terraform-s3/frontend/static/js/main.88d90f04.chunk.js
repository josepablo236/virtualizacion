(this.webpackJsonpproyecto=this.webpackJsonpproyecto||[]).push([[0],{134:function(e,t,a){},169:function(e,t,a){},170:function(e,t){},195:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),n=a(34),r=a.n(n),i=(a(134),a(15)),o=a(19),l=a(11),d=a.n(l),j=a(18),b=a(3),u=a(227),m=a(110),h=a.n(m),O=a(52),x=a(1),p=Object(c.createContext)(),f=function(e){var t=Object(c.useState)(!1),a=Object(b.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(),i=Object(b.a)(r,2),o=i[0],l=i[1],u=Object(c.useState)(),m=Object(b.a)(u,2),h=m[0],f=m[1],v=Object(c.useState)(!1),g=Object(b.a)(v,2),N=g[0],w=g[1],k=Object(c.useState)(!1),y=Object(b.a)(k,2),C=y[0],S=y[1],E=Object(c.useState)({}),T=Object(b.a)(E,2),I=T[0],A=T[1],R=Object(c.useState)({}),P=Object(b.a)(R,2),F=P[0],_=P[1],z=Object(c.useState)(""),U=Object(b.a)(z,2),D=U[0],L=U[1],M=Object(c.useState)(!1),B=Object(b.a)(M,2),K=B[0],q=B[1],W=Object(c.useState)({}),Y=Object(b.a)(W,2),H=Y[0],G=Y[1],X=Object(c.useState)([]),V=Object(b.a)(X,2),J=V[0],Q=V[1],Z=Object(c.useState)(!1),$=Object(b.a)(Z,2),ee=$[0],te=$[1],ae=Object(c.useState)(""),ce=Object(b.a)(ae,2),se=ce[0],ne=ce[1],re=Object(c.useState)(""),ie=Object(b.a)(re,2),oe=ie[0],le=ie[1],de=Object(c.useState)(!1),je=Object(b.a)(de,2),be=je[0],ue=je[1];return Object(c.useEffect)((function(){ee&&n(!0)}),[ee]),Object(c.useEffect)((function(){if(N){var e=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.b)(F).then((function(e){if(200===e.statusCode){var t=e.file_path,a=Object(O.a)(t).split("|");ne(a[0]),le(a[1]),q(!0),ue(!1)}else ue(!0)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[F]),Object(x.jsx)(p.Provider,{value:{isAuthenticated:s,spotifyTokenResponse:o,spotifyRefreshToken:h,user:I,foto:F,cargar:N,nombre:D,errorfoto:be,consultarSpotify:K,base:H,historial:J,emocion:se,reco:oe,isAdmin:C,guardarIsAdmin:S,setIsAuthenticated:n,setSpotifyTokenResponse:l,setSpotifyRefreshToken:f,guardarUser:A,guardarFoto:_,guardarCargar:w,guardarNombre:L,guardarErrorfoto:ue,guardarRegresar:te,guardarConsultarSpotify:q,guardarHistorial:Q,guardarBase:G,guardarReco:le,guardarEmocion:ne},children:e.children})},v=("https://accounts.spotify.com/authorize?client_id=".concat("d7213c935bf147188c8301aedb3674b0","&response_type=code&redirect_uri=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BACKEND_URL:"https://15hahfb4hc.execute-api.us-east-2.amazonaws.com/dev",REACT_APP_API_KEY:"5tKqTwy2wc2KfwX0IPkCc6Wjlik0ACTP6EuYtMo7",REACT_APP_API_RECOGNITION_URL:"https://egzixmpkeh.execute-api.us-east-2.amazonaws.com/DEV",REACT_APP_SPOTIFY_CLIENT_ID:"d7213c935bf147188c8301aedb3674b0",REACT_APP_SPOTIFY_CLIENT_SECRET:"426fca1623fc4465b30f21a7ddf2a378"}).REACT_APP_SPOTIFY_CALLBACK_HOST,"&scope=user-read-private"),function(){var e=Object(c.useContext)(p),t=e.spotifyRefreshToken,a=e.setSpotifyRefreshToken,s=e.setSpotifyTokenResponse,n=e.setIsAuthenticated,r=Object(c.useState)(!1),l=Object(b.a)(r,2),m=l[0],f=(l[1],Object(o.h)(),Object(o.g)(),Object(c.useCallback)(function(){var e=Object(j.a)(d.a.mark((function e(t){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(O.c)({grant_type:"client_credentials"});case 3:if(!(c=e.sent).access_token){e.next=10;break}a(null===(r=c)||void 0===r?void 0:r.refresh_token),s(c),n(!0),e.next=11;break;case 10:throw new Error("Usuario no fue logueado");case 11:e.next=19;break;case 13:e.prev=13,e.t0=e.catch(0),alert("Usuario no fue logueado en spotify"),s(null),a(null),n(!1);case 19:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),[a,s,n,t]),function(){var e=Object(j.a)(d.a.mark((function e(){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,Object(O.c)({refresh_token:t,grant_type:"refresh_token"});case 3:c=e.sent,e.next=9;break;case 6:return e.next=8,Object(O.c)({grant_type:"client_credentials"});case 8:c=e.sent;case 9:if(!c.access_token){e.next=15;break}a(null===(r=c)||void 0===r?void 0:r.refresh_token),s(c),n(!0),e.next=16;break;case 15:throw new Error("Credenciales incorrectas en spotify app");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(x.jsx)(c.Fragment,{children:m?Object(x.jsx)("div",{className:"d-flex justify-content-center center mt-5",children:Object(x.jsx)("div",{className:"spinner-border",style:{width:"5rem",height:"5rem"},role:"status",children:Object(x.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)("p",{className:"subtitulo",children:"Haz click aqui para iniciar sesi\xf3n:"}),Object(x.jsx)(i.b,{to:"/login",children:Object(x.jsx)(u.a,{onClick:f,variant:"contained",size:"large",startIcon:Object(x.jsx)(h.a,{}),children:"Iniciar sesi\xf3n"})})]})})}),g=a.p+"static/media/escucha.3ba7ce00.svg",N=function(){var e=Object(c.useContext)(p),t=e.isAuthenticated,a=e.setIsAuthenticated,s=e.guardarRegresar,n=e.guardarCargar,r=e.guardarFoto,o=e.guardarNombre,l=e.guardarErrorfoto,d=e.guardarEmocion,j=e.guardarReco,b=function(){a(!1),r({}),s(!1),o(""),l(!1),d(""),j(""),n(!1)};return Object(x.jsx)(c.Fragment,{children:t?Object(x.jsx)("nav",{className:"navbar navbar-dark bg-dark",children:Object(x.jsxs)("div",{className:"container-fluid",children:[Object(x.jsxs)("a",{className:"navbar-brand",children:[Object(x.jsx)("img",{src:g,alt:"",width:"30",height:"24",className:"d-inline-block align-text-top"}),"ShiftEmotion"]}),Object(x.jsx)("form",{className:"d-flex",onSubmit:b,children:Object(x.jsx)(i.b,{to:"/",children:Object(x.jsx)("button",{className:"btn btn-secundario",type:"submit",onClick:b,children:"Salir"})})})]})}):null})},w=function(){return Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)(N,{}),Object(x.jsx)("header",{className:"fluid",children:Object(x.jsxs)("div",{className:"container-sm contenedor",children:[Object(x.jsx)("h1",{className:"titulo",children:"ShiftEmotion "}),Object(x.jsx)(v,{})]})})]})},k=a.p+"static/media/camara.0448c34e.svg",y=a.p+"static/media/analisis.b937fbdf.svg",C=a.p+"static/media/escucha2.904842cb.svg",S=a.p+"static/media/escucha3.6eb37289.svg",E=function(){return Object(x.jsxs)("div",{className:"container mb-4",children:[Object(x.jsx)("div",{className:"row titulo-contenedor",children:Object(x.jsx)("h1",{className:"titulo-seccion",children:"Pasos a seguir:"})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-sm-6 col-md-3 pasos",children:[Object(x.jsx)("p",{className:"paso",children:"Elige una imagen tuya o t\xf3mate una selfie"}),Object(x.jsx)("img",{src:k,width:"100%",alt:"Camara",className:"imagen-pasos"})]}),Object(x.jsxs)("div",{className:"col-sm-6 col-md-3 pasos",children:[Object(x.jsx)("p",{className:"paso",children:"Presiona \u201cEnviar\u201d para analizar la foto seleccionada"}),Object(x.jsx)("img",{src:y,width:"100%",alt:"Camara",className:"imagen-pasos"})]}),Object(x.jsxs)("div",{className:"col-sm-6 col-md-3 pasos",children:[Object(x.jsx)("p",{className:"paso",children:"Escucha las recomendaciones que tenemos para ti"}),Object(x.jsx)("img",{src:C,width:"100%",alt:"Camara",className:"imagen-pasos"})]}),Object(x.jsxs)("div",{className:"col-sm-6 col-md-3 pasos",children:[Object(x.jsx)("p",{className:"paso",children:"Visualiza y escucha tu historial de canciones"}),Object(x.jsx)("img",{src:S,width:"100%",alt:"Camara",className:"imagen-pasos"})]})]})]})},T=a.p+"static/media/emosion.07ca6fd3.jpg",I=a.p+"static/media/musica.a8a21c84.jpg",A=a.p+"static/media/guitarra.bb19f787.jpeg",R=function(){return Object(x.jsx)("div",{className:"container mb-5",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-sm-6 col-md-4",children:Object(x.jsxs)("div",{className:"card mb-3",children:[Object(x.jsx)("img",{src:A,className:"card-img-top",alt:"...",height:"230px"}),Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h1",{className:"class-Title",children:"\xbfNo sabes qu\xe9 escuchar?"}),Object(x.jsx)("p",{className:"card-text",children:"Muestranos una foto tuya y nosotros pondremos la m\xfasica por ti."}),Object(x.jsx)("p",{className:"card-text",children:"Gracias a la inteligencia artificial (IA), puedes obtener recomendaciones en base a sus gustos y preferencias."})]})]})}),Object(x.jsx)("div",{className:"col-sm-6 col-md-4",children:Object(x.jsxs)("div",{className:"card mb-3",children:[Object(x.jsx)("img",{src:T,className:"card-img-top",alt:"...",height:"230px"}),Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h1",{className:"class-Title",children:"M\xfasica para el mood de hoy"}),Object(x.jsx)("p",{className:"card-text",children:"Te mostramos la m\xfasica perfecta para tu estado de \xe1nimo."}),Object(x.jsx)("p",{className:"card-text",children:"Nuestro sistema de recomendaciones de m\xfasica toma en cuenta factores externos e internos de los usuarios."})]})]})}),Object(x.jsx)("div",{className:"col-sm-6 col-md-4",children:Object(x.jsxs)("div",{className:"card mb-3",children:[Object(x.jsx)("img",{src:I,className:"card-img-top",alt:"...",height:"230px"}),Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h1",{className:"class-Title",children:"Chequea tu historial en base a tus emociones"}),Object(x.jsx)("p",{className:"card-text",children:"Escucha las canciones guardadas en tu historial de recomendaciones."}),Object(x.jsx)("p",{className:"card-text",children:"Las recomendaciones se realizan en base a emociones expresadas por los usuarios."})]})]})})]})})},P=function(){return Object(x.jsx)("footer",{children:Object(x.jsx)("div",{className:"contenedor footer-content text-center",children:Object(x.jsxs)("div",{id:"contact-us",children:[Object(x.jsx)("h1",{children:"ShiftEmotion"}),Object(x.jsx)("p",{children:"Todos los derechos reservados \xa9"})]})})})},F=function(){return Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)(w,{}),Object(x.jsx)(E,{}),Object(x.jsx)(R,{}),Object(x.jsx)(P,{})]})},_=a(80),z=a.n(_),U=a(111),D=a.n(U),L=a(113),M=a.n(L),B=a(50),K=a.n(B),q=a(112),W=a.n(q),Y=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),r=Object(b.a)(n,2),o=(r[0],r[1],Object(c.useState)(!1)),l=Object(b.a)(o,2),d=l[0],j=l[1];return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("h1",{className:"text-center",children:"Toma una foto con tu c\xe1mara web"}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("video",{id:"v",autoPlay:!0}),Object(x.jsx)("canvas",{id:"c"})]}),Object(x.jsx)("div",{className:"col-md-6",children:Object(x.jsx)("img",{src:"",alt:"",id:"img"})})]}),a?Object(x.jsxs)("div",{className:"center",children:[Object(x.jsx)(u.a,{variant:"contained",size:"large",startIcon:Object(x.jsx)(D.a,{}),onClick:function(){s(!1),document.getElementById("img").setAttribute("src","")},children:"Repetir foto"}),Object(x.jsx)(i.b,{to:"/subir-descarga",children:Object(x.jsx)(u.a,{variant:"contained",size:"large",startIcon:Object(x.jsx)(W.a,{}),onClick:function(){var e=document.createElement("a");document.body.appendChild(e);var t=document.getElementById("v"),a=document.getElementById("c").toDataURL("image/png");e.href=a,e.download="image.png",e.click(),document.body.removeChild(e),t.pause(),t.src="",t.srcObject.getTracks()[0].stop()},children:"Descargar foto"})})]}):Object(x.jsx)(c.Fragment,{children:d?Object(x.jsxs)("div",{className:"center mt-3",children:[Object(x.jsx)(i.b,{to:"/home",children:Object(x.jsx)(u.a,{variant:"contained",size:"large",startIcon:Object(x.jsx)(K.a,{}),onClick:function(){var e=document.getElementById("v");e.pause(),e.src="",null!==e.srcObject&&e.srcObject.getTracks()[0].stop()},children:"Regresar"})}),Object(x.jsx)(u.a,{variant:"contained",size:"large",startIcon:Object(x.jsx)(z.a,{}),onClick:function(){var e=document.getElementById("img"),t=document.getElementById("c"),a=document.getElementById("v");t.getContext("2d").drawImage(a,0,0);var c=t.toDataURL("image/png");e.setAttribute("src",c),s(!0)},children:"Tomar foto"})]}):Object(x.jsxs)("div",{className:"center mt-3",children:[Object(x.jsx)(i.b,{to:"/home",children:Object(x.jsx)(u.a,{variant:"contained",size:"large",startIcon:Object(x.jsx)(K.a,{}),children:"Regresar"})}),Object(x.jsx)(u.a,{variant:"contained",size:"large",startIcon:Object(x.jsx)(M.a,{}),onClick:function(){j(!0);var e=document.querySelector("#v"),t=document.querySelector("#c");navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia?(navigator.getUserMedia({video:!0},(function(t){e.srcObject=t,e.play()}),(function(e){console.log(e)})),e.addEventListener("loadedmetadata",(function(){t.width=e.videoWidth,t.height=e.videoHeight}),!1)):(j(!1),alert("Tienes un navegador obsoleto"))},children:"Encender camara"})]})})]})},H=a(81),G=a.n(H),X=a(82),V=a.n(X),J=function(){var e=Object(c.useContext)(p),t=e.guardarFoto,a=e.guardarNombre,s=e.guardarCargar,n=Object(c.useState)({}),r=Object(b.a)(n,2),o=r[0],l=r[1],d=Object(c.useState)(!1),j=Object(b.a)(d,2),m=j[0],h=j[1],O=Object(c.useState)(null),f=Object(b.a)(O,2),v=f[0],g=f[1];return Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),m?Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)("div",{className:"center",children:Object(x.jsx)("img",{src:v,alt:"",height:"480px",width:"640px"})}),Object(x.jsxs)("div",{className:"container mt-3 center",children:[Object(x.jsx)(i.b,{to:"/resultado",children:Object(x.jsx)(u.a,{variant:"contained",component:"span",onClick:function(){t(o),s(!0)},endIcon:Object(x.jsx)(G.a,{}),children:"Enviar foto"})}),Object(x.jsx)(u.a,{variant:"contained",component:"span",onClick:function(){l(null),h(!1)},endIcon:Object(x.jsx)(V.a,{}),children:"Cancelar"})]})]}):Object(x.jsxs)(c.Fragment,{children:[Object(x.jsxs)("div",{className:"image-upload-wrap",children:[Object(x.jsx)("input",{className:"file-upload-input",type:"file",accept:"image/",multiple:!0,onChange:function(e){!function(e){if(l(e.target.files[0]),a(e.target.files[0].name),h(!0),void 0!==e.target.files[0]){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(e){e.preventDefault(),g(e.target.result)}}}(e)}}),Object(x.jsx)("div",{className:"text-information",children:Object(x.jsx)("h3",{children:"Arrastra o da click para seleccionar la imagen descargada"})})]}),Object(x.jsx)("div",{className:"center mt-3",children:Object(x.jsx)(i.b,{to:"/tomar-foto",children:Object(x.jsx)(u.a,{variant:"contained",size:"large",startIcon:Object(x.jsx)(K.a,{}),children:"Regresar"})})})]})]})},Q=a(223),Z=a(230),$=a(114),ee=a.n($),te=a(115),ae=a.n(te),ce=a(116),se=a.n(ce),ne=a(35),re=a.n(ne),ie=a(226),oe=function(){var e=Object(c.useContext)(p),t=e.user,a=e.errorFoto,s=Object(c.useState)(!1),n=Object(b.a)(s,2),r=n[0],i=n[1],o=Object(c.useState)(!1),l=Object(b.a)(o,2),u=l[0],m=l[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"https://15hahfb4hc.execute-api.us-east-2.amazonaws.com/dev/retro",re.a.post("https://15hahfb4hc.execute-api.us-east-2.amazonaws.com/dev/retro",u,{headers:{"x-api-key":"5tKqTwy2wc2KfwX0IPkCc6Wjlik0ACTP6EuYtMo7"}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r&&e()}),[r]),Object(x.jsx)(c.Fragment,{children:a?null:Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)("div",{className:"center mt-5",children:Object(x.jsx)("h1",{className:"text-center",children:"\xbfQu\xe9 tal te pareci\xf3 nuestro servicio?"})}),r?Object(x.jsx)("div",{className:"center mt-4",children:Object(x.jsx)("h2",{className:"text-center",children:"\xa1Gracias por tu retroalimentaci\xf3n!"})}):Object(x.jsx)("div",{className:"container center mt-4 mb-5",children:Object(x.jsxs)(Z.a,{direction:"row",spacing:2,children:[Object(x.jsx)(Q.a,{variant:"contained",size:"large",startIcon:Object(x.jsx)(ee.a,{}),onClick:function(){m({id:Object(ie.a)(),email:t.correo,nombre:t.nombre,retro:"Like"}),i(!0)},children:"Like"}),Object(x.jsx)(Q.a,{variant:"outlined",size:"large",startIcon:Object(x.jsx)(ae.a,{}),onClick:function(){m({id:Object(ie.a)(),email:t.correo,nombre:t.nombre,retro:"Medium"}),i(!0)},children:"Medium"}),Object(x.jsx)(Q.a,{variant:"contained",size:"large",startIcon:Object(x.jsx)(se.a,{}),onClick:function(){m({id:Object(ie.a)(),email:t.correo,nombre:t.nombre,retro:"Dislike"}),i(!0)},children:"Dislike"})]})})]})})},le=function(){var e=Object(c.useContext)(p),t=e.setIsAuthenticated,a=e.guardarRegresar,s=e.guardarBase,n=e.guardarFoto,r=e.guardarNombre,o=e.guardarErrorfoto,l=e.guardarEmocion,d=e.guardarCargar,j=e.guardarReco,b=function(){t(!1),n({}),a(!1),r(""),o(!1),l(""),j(""),d(!1)};return Object(x.jsx)("nav",{className:"navbar navbar-dark bg-dark",children:Object(x.jsxs)("div",{className:"container-fluid",children:[Object(x.jsx)(i.b,{to:"/home",children:Object(x.jsx)(u.a,{variant:"contained",size:"small",startIcon:Object(x.jsx)(K.a,{}),onClick:function(){a(!0),d(!1),o(!1),n({}),s({}),r(""),l(""),j("")}})}),Object(x.jsxs)("a",{className:"navbar-brand center",children:[Object(x.jsx)("img",{src:g,alt:"",width:"30",height:"24",className:"d-inline-block align-text-top"}),"ShiftEmotion"]}),Object(x.jsx)("form",{className:"d-flex",onSubmit:b,children:Object(x.jsx)(i.b,{to:"/",children:Object(x.jsx)("button",{className:"btn btn-secundario",type:"submit",onClick:b,children:"Salir"})})})]})})},de=function(e){var t=e.mensaje,a=Object(c.useContext)(p),s=a.guardarRegresar,n=a.guardarCargar,r=a.guardarFoto,o=a.guardarBase,l=a.guardarErrorfoto,d=a.guardarNombre,j=a.guardarEmocion;return Object(x.jsx)("div",{className:"container center",children:Object(x.jsx)("div",{className:"card bg-light mt-5",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h1",{children:t}),Object(x.jsx)("p",{children:"Lo sentimos, intenta con otra imagen."}),Object(x.jsx)(i.b,{to:"/home",children:Object(x.jsx)(u.a,{variant:"contained",size:"large",startIcon:Object(x.jsx)(K.a,{}),onClick:function(){s(!0),n(!1),r({}),o({}),l(!1),d(""),j("")},children:"Regresar"})})]})})})},je=a(17),be=(a(169),s.a.memo((function(e){var t=e.imageUrl,a=e.id,s=e.externalUrl,n=e.releaseDate,r=e.name,i=e.artist,o=Object(c.useState)({id:"",name:"",artist:"",releaseDate:"",externalUrl:"",imageUrl:""}),l=Object(b.a)(o,2);l[0],l[1];return Object(x.jsxs)("div",{className:"list-item",onClick:function(){window.open(s,"_blank")},children:[Object(x.jsx)("img",{src:t,alt:a}),Object(x.jsx)("p",{className:"list-item-title",children:r}),Object(x.jsx)("p",{className:"list-item-artist",children:i}),Object(x.jsx)("p",{className:"list-item-date",children:n})]})}))),ue=Object(c.memo)((function(e){var t=e.id,a=e.name,c=e.externalUrl,s=e.artist,n=e.releaseDate,r=e.imageUrl;return Object(x.jsx)(be,{imageUrl:r,id:t,externalUrl:c,releaseDate:n,name:a,artist:s})})),me=function(e){var t=e.mensaje,a=Object(c.useContext)(p),s=a.base,n=a.user,r=a.historial,i=a.emocion,o=a.reco,l=a.spotifyTokenResponse,m=a.guardarBase,h=Object(c.useState)([]),f=Object(b.a)(h,2),v=f[0],g=f[1],N=Object(c.useState)(!1),w=Object(b.a)(N,2),k=w[0],y=w[1],C=Object(c.useState)(!1),S=Object(b.a)(C,2),E=S[0],T=S[1],I=Object(c.useState)(!1),A=Object(b.a)(I,2),R=A[0],P=A[1];Object(c.useEffect)((function(){o?F():P(!0)}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://15hahfb4hc.execute-api.us-east-2.amazonaws.com/dev/historial",e.next=3,re.a.post("https://15hahfb4hc.execute-api.us-east-2.amazonaws.com/dev/historial",s,{headers:{"x-api-key":"5tKqTwy2wc2KfwX0IPkCc6Wjlik0ACTP6EuYtMo7"}});case 3:return e.sent,t={id:Object(ie.a)(),emocion:i},"https://15hahfb4hc.execute-api.us-east-2.amazonaws.com/dev/emociones",e.next=8,re.a.post("https://15hahfb4hc.execute-api.us-east-2.amazonaws.com/dev/emociones",t,{headers:{"x-api-key":"5tKqTwy2wc2KfwX0IPkCc6Wjlik0ACTP6EuYtMo7"}});case 8:e.sent;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();k&&e()}),[k]);var F=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{q:o},{type:"track"},{limit:10},{offset:10}],e.next=3,Object(O.d)(t,l.access_token);case 3:(a=e.sent)?(P(!1),c=[],a.tracks.items.map((function(e,t){var a,s,n,r,i={id:e.id,name:e.name,artist:e.artists[0].name,releaseDate:null===(a=e.album)||void 0===a?void 0:a.release_date,imageUrl:null===(s=e.album)||void 0===s||null===(n=s.images[0])||void 0===n?void 0:n.url,externalUrl:null===(r=e.external_urls)||void 0===r?void 0:r.spotify};c.push(i)})),g(c),r?(s=[],r.map((function(e){c.find((function(t){return t.id===e.id}))||s.push(e)})),i=c.concat(s),m({email:n.correo,nombre:n.nombre,body:i})):m({email:n.correo,nombre:n.nombre,body:c}),y(!0)):T(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(c.Fragment,{children:[Object(x.jsxs)("div",{className:"container-sm contenedor",children:[Object(x.jsx)("div",{className:"row titulo-contenedor",children:Object(x.jsx)("h1",{className:"titulo-seccion",children:t})}),i?Object(x.jsx)("div",{className:"row",children:Object(x.jsxs)("p",{className:"class-Title",children:["Resultado emocion: ",i]})}):null]}),E?Object(x.jsx)(de,{mensaje:"No se pudo realizar la consulta"}):Object(x.jsx)(c.Fragment,{children:R?Object(x.jsxs)("div",{className:"contenedor center",children:[Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("p",{className:"class-Title",children:"Error al cargar las canciones"})}),Object(x.jsx)("div",{className:"row",children:Object(x.jsx)(u.a,{onClick:function(){o?F():T(!0)},variant:"contained",size:"large",children:"Volver a intentar"})})]}):Object(x.jsxs)("div",{className:"tracks-container",children:[Object(x.jsx)("p",{className:"home-tracks-title",children:"Canciones"}),Object(x.jsx)("div",{className:"tracks-container-item",children:v.map((function(e,t){return Object(x.jsx)(ue,Object(je.a)({},e),t)}))})]})})]})},he=function(){var e=Object(c.useContext)(p).errorfoto,t=Object(c.useState)(!0),a=Object(b.a)(t,2),s=a[0],n=a[1];return setTimeout((function(){n(!1)}),2e3),s?Object(x.jsx)("div",{className:"d-flex justify-content-center center mt-5",children:Object(x.jsx)("div",{className:"spinner-border",style:{width:"5rem",height:"5rem"},role:"status",children:Object(x.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)(le,{}),e?Object(x.jsx)(de,{mensaje:"La imagen no fue reconocida"}):Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)(me,{mensaje:"Resultado de canciones:"}),Object(x.jsx)(oe,{}),Object(x.jsx)(P,{})]})]})},Oe=a(5),xe=function(e){var t=e.mensaje;return Object(x.jsx)("p",{className:"alert alert-danger",children:t})},pe=function(){var e=Object(c.useContext)(p),t=e.isAdmin,s=e.guardarUser,n=e.setIsAuthenticated,r=e.guardarIsAdmin,l=Object(c.useState)({email:"",password:""}),u=Object(b.a)(l,2),m=u[0],h=u[1],O=Object(c.useState)(""),f=Object(b.a)(O,2),v=f[0],N=f[1],w=Object(c.useState)(!1),k=Object(b.a)(w,2),y=k[0],C=k[1],S=Object(c.useState)(!1),E=Object(b.a)(S,2),T=E[0],I=E[1],A=Object(c.useState)(!1),R=Object(b.a)(A,2),P=R[0],F=R[1],_=m.email,z=m.password,U=function(e){h(Object(je.a)(Object(je.a)({},m),{},Object(Oe.a)({},e.target.name,e.target.value)))},D=function(e){s({correo:e.email,nombre:e.nombre})};return Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(d.a.mark((function e(){var t,c,s,i,o,l,j,b;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://15hahfb4hc.execute-api.us-east-2.amazonaws.com/dev"+"/users?email=".concat(m.email),e.next=3,re.a.get(t,{headers:{"x-api-key":"5tKqTwy2wc2KfwX0IPkCc6Wjlik0ACTP6EuYtMo7"}});case 3:c=e.sent,(s=c.data)?(D(i=s),o=String(i.password),l=a(106),j=l.AES.decrypt(o,"secret key 123"),b=j.toString(l.enc.Utf8),m.password===b?("admin@gmail.com"===m.email&&r(!0),F(!0),n(!0)):(N("Contrase\xf1a incorrecta"),C(!0),I(!1))):(N("Usuario no encontrado"),C(!0),I(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();T&&e()}),[T]),Object(x.jsx)(c.Fragment,{children:P?Object(x.jsx)(c.Fragment,{children:t?Object(x.jsx)(o.a,{push:!0,to:"/dashboard"}):Object(x.jsx)(o.a,{push:!0,to:"/home"})}):Object(x.jsx)("div",{className:"center mt-5",children:Object(x.jsxs)("div",{className:"contenedor-form",children:[Object(x.jsx)("h1",{className:"text-center",children:"ShiftEmotion"}),Object(x.jsx)("div",{className:"center mb-4 mt-3",children:Object(x.jsx)("img",{src:g,width:"250px",className:"center",alt:"Icon"})}),y?Object(x.jsx)(xe,{mensaje:v}):null,Object(x.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===_.trim()||""===z.trim())return N("Todos los campos son obligatorios"),void C(!0);C(!1),I(!0)},children:[Object(x.jsxs)("div",{className:"campo-form",children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email"}),Object(x.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Ingresa tu email",onChange:U,value:_})]}),Object(x.jsxs)("div",{className:"campo-form",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password"}),Object(x.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Ingresa tu password",onChange:U,value:z})]}),Object(x.jsx)("div",{className:"campo-form",children:Object(x.jsx)("input",{type:"submit",className:"btn btn-primario btn-block",value:"Iniciar Sesi\xf3n"})})]}),Object(x.jsx)("div",{className:"center",children:Object(x.jsxs)("div",{className:"enlace-cuenta",children:[Object(x.jsx)(i.b,{to:"/",className:"enlaces-cuenta",children:"Regresar"}),Object(x.jsx)(i.b,{to:"/nueva-cuenta",className:"enlaces-cuenta",children:"Crear cuenta"})]})})]})})})},fe=function(){var e=Object(c.useState)({nombre:"",email:"",password:"",confirmar:""}),t=Object(b.a)(e,2),s=t[0],n=t[1],r=Object(c.useState)({nombre:"",email:"",password:""}),o=Object(b.a)(r,2),l=o[0],u=o[1],m=Object(c.useState)(""),h=Object(b.a)(m,2),O=h[0],p=h[1],f=Object(c.useState)(!1),v=Object(b.a)(f,2),g=v[0],N=v[1],w=Object(c.useState)(!1),k=Object(b.a)(w,2),y=k[0],C=k[1],S=Object(c.useState)(!1),E=Object(b.a)(S,2),T=E[0],I=E[1],A=function(e){n(Object(je.a)(Object(je.a)({},s),{},Object(Oe.a)({},e.target.name,e.target.value)))},R=s.nombre,P=s.email,F=s.password,_=s.confirmar;return Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"https://15hahfb4hc.execute-api.us-east-2.amazonaws.com/dev/users",re.a.post("https://15hahfb4hc.execute-api.us-east-2.amazonaws.com/dev/users",l,{headers:{"x-api-key":"5tKqTwy2wc2KfwX0IPkCc6Wjlik0ACTP6EuYtMo7"}}).then((function(e){200===e.status?I(!0):(p("Error al crear cuenta"),C(!0),N(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();g&&e()}),[g]),Object(x.jsx)(c.Fragment,{children:T?Object(x.jsx)("div",{className:"center mt-5",children:Object(x.jsxs)("div",{className:"contenedor-form sombra-dark",children:[Object(x.jsx)("h1",{children:"Cuenta Creada Exitosamente"}),Object(x.jsx)("p",{children:"Por favor inicia sesi\xf3n"}),Object(x.jsx)(i.b,{to:"/login",className:"enlace-cuenta",children:" Iniciar sesi\xf3n "})]})}):Object(x.jsx)("div",{className:"center mt-5",children:Object(x.jsxs)("div",{className:"contenedor-form sombra-dark",children:[Object(x.jsx)("h1",{className:"text-center mb-3",children:"Crear Cuenta"}),y?Object(x.jsx)(xe,{mensaje:O}):null,Object(x.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),C(!1),""===R.trim()||""===P.trim()||""===F.trim()||""===_.trim())return p("Todos los campos son obligatorios"),void C(!0);if(F!==_)return p("Las contrase\xf1as no coinciden"),void C(!0);if(F.length<5)return p("La contrase\xf1a es demasiado corta"),void C(!0);C(!1);var t=a(106).AES.encrypt(F,"secret key 123").toString();u({nombre:R,email:P,password:t}),N(!0)},children:[Object(x.jsxs)("div",{className:"campo-form",children:[Object(x.jsx)("label",{htmlFor:"email",children:"Nombre"}),Object(x.jsx)("input",{type:"text",id:"nombre",name:"nombre",placeholder:"Ingresa tu nombre",onChange:A,value:R})]}),Object(x.jsxs)("div",{className:"campo-form",children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email"}),Object(x.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Ingresa tu email",onChange:A,value:P})]}),Object(x.jsxs)("div",{className:"campo-form",children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password"}),Object(x.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Ingresa tu password",onChange:A,value:F})]}),Object(x.jsxs)("div",{className:"campo-form",children:[Object(x.jsx)("label",{htmlFor:"confirmar",children:"Confirmar Password"}),Object(x.jsx)("input",{type:"password",id:"confirmar",name:"confirmar",placeholder:"Repite tu password",onChange:A,value:_})]}),Object(x.jsx)("div",{className:"campo-form",children:Object(x.jsx)("input",{type:"submit",className:"btn btn-primario btn-block",value:"Registrarme"})})]}),Object(x.jsx)(i.b,{to:"/login",className:"enlace-cuenta",children:" Volver a iniciar sesi\xf3n "})]})})})},ve=a(9),ge=["component"],Ne=function(e){var t=e.component,a=Object(ve.a)(e,ge),s=Object(c.useContext)(p).isAuthenticated;return Object(x.jsx)(o.b,Object(je.a)(Object(je.a)({},a),{},{render:function(e){return s?Object(x.jsx)(t,Object(je.a)({},e)):Object(x.jsx)(o.a,{to:"/"})}}))},we=a(118),ke=a.n(we),ye=a(225),Ce=a(224),Se=a(119),Ee=a(117),Te=a.n(Ee),Ie=Object(Se.a)("input")({display:"none"}),Ae=function(){var e=Object(c.useContext)(p),t=e.guardarFoto,a=e.guardarNombre,s=e.guardarCargar,n=Object(c.useState)({}),r=Object(b.a)(n,2),o=r[0],l=r[1],d=Object(c.useState)(!1),j=Object(b.a)(d,2),m=j[0],h=j[1];return Object(x.jsx)(Z.a,{direction:"row",alignItems:"center",spacing:2,children:m?Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)(i.b,{to:"/resultado",children:Object(x.jsx)(u.a,{variant:"contained",component:"span",onClick:function(){t(o),s(!0)},endIcon:Object(x.jsx)(G.a,{}),children:"Enviar foto"})}),Object(x.jsx)(u.a,{variant:"contained",component:"span",onClick:function(){l(null),s(!1),a(""),h(!1)},endIcon:Object(x.jsx)(V.a,{}),children:"Cancelar"})]}):Object(x.jsxs)(c.Fragment,{children:[Object(x.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(x.jsx)(Ie,{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){l(e.target.files[0]),a(e.target.files[0].name),h(!0)}}),Object(x.jsx)(u.a,{variant:"contained",component:"span",startIcon:Object(x.jsx)(Te.a,{}),children:"Seleccionar"})]}),Object(x.jsx)(i.b,{to:"/tomar-foto",children:Object(x.jsx)(u.a,{variant:"contained",component:"span",startIcon:Object(x.jsx)(z.a,{}),onClick:function(){console.log("Tomar foto")},children:"Tomar foto"})})]})})},Re={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Pe=function(){var e=Object(c.useContext)(p),t=e.user,a=e.nombre,n=s.a.useState(!1),r=Object(b.a)(n,2),i=r[0],o=r[1];return Object(x.jsxs)(c.Fragment,{children:[Object(x.jsxs)("p",{className:"subtitulo",children:["Hola ",t.nombre,"! Haz click para seleccionar una imagen"]}),Object(x.jsx)(u.a,{variant:"contained",size:"large",startIcon:Object(x.jsx)(ke.a,{}),onClick:function(){return o(!0)},children:"Cargar imagen"}),Object(x.jsx)(ye.a,{open:i,onClose:function(){return o(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(x.jsx)(Ce.a,{sx:Re,children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("h2",{children:"Cargar Imagen"}),a?Object(x.jsx)("p",{children:a}):Object(x.jsx)("p",{children:"Selecciona una imagen o toma una foto"}),Object(x.jsx)(Ae,{})]})})})]})},Fe=function(){return Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)(N,{}),Object(x.jsx)("header",{className:"fluid",children:Object(x.jsxs)("div",{className:"container-sm contenedor",children:[Object(x.jsx)("h1",{className:"titulo",children:"ShiftEmotion "}),Object(x.jsx)(Pe,{})]})})]})},_e=function(){var e=Object(c.useContext)(p),t=e.user,a=e.historial,s=e.isAuthenticated,n=e.guardarHistorial;return Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(d.a.mark((function e(){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://15hahfb4hc.execute-api.us-east-2.amazonaws.com/dev"+"/historial?email=".concat(t.correo),e.next=3,re.a.get(a,{headers:{"x-api-key":"5tKqTwy2wc2KfwX0IPkCc6Wjlik0ACTP6EuYtMo7"}});case 3:c=e.sent,n(c.data.body);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s&&e()}),[]),Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)("div",{className:"container-sm contenedor mt-3",children:Object(x.jsx)("div",{className:"row titulo-contenedor",children:Object(x.jsx)("h1",{className:"titulo-seccion",children:"Historial de canciones:"})})}),a?Object(x.jsx)("div",{className:"historial-container mb-5",children:Object(x.jsx)("div",{className:"historial-container-item row",children:a.map((function(e,t){return Object(x.jsx)("div",{className:"col-md-4 col-lg-3 center",children:Object(x.jsx)(ue,Object(je.a)({},e))},t)}))})}):Object(x.jsx)("h2",{className:"class-Title center mb-5",children:"No tienes un historial de canciones, sube una foto para buscar."})]})},ze=function(){return Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)(Fe,{}),Object(x.jsx)(_e,{}),Object(x.jsx)(P,{})]})},Ue=a(8),De=a(96),Le=a(28);Le.c.register.apply(Le.c,Object(Ue.a)(Le.j));var Me=function(){var e=Object(c.useContext)(p).isAdmin,t=Object(c.useState)(0),a=Object(b.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(""),i=Object(b.a)(r,2),o=i[0],l=i[1],u=Object(c.useState)(""),m=Object(b.a)(u,2),h=m[0],O=m[1],f=Object(c.useState)(0),v=Object(b.a)(f,2),g=v[0],w=v[1],k=Object(c.useState)(!1),y=Object(b.a)(k,2),C=y[0],S=y[1],E=Object(c.useState)([]),T=Object(b.a)(E,2),I=T[0],A=T[1],R=Object(c.useState)([]),F=Object(b.a)(R,2),_=F[0],z=F[1],U=Object(c.useState)([]),D=Object(b.a)(U,2),L=D[0],M=D[1],B=Object(c.useState)([]),K=Object(b.a)(B,2),q=K[0],W=K[1];Object(c.useEffect)((function(){var t=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://15hahfb4hc.execute-api.us-east-2.amazonaws.com/dev/dashboard",e.next=3,re.a.get("https://15hahfb4hc.execute-api.us-east-2.amazonaws.com/dev/dashboard",{headers:{"x-api-key":"5tKqTwy2wc2KfwX0IPkCc6Wjlik0ACTP6EuYtMo7"}});case 3:t=e.sent,X(t.data.retros),G(t.data.emotions),w(Y(t.data.recomendations)),a=H(t.data.recomendations).split("|"),l(a[0]),O(a[1]),n(t.data.users),I&&_?S(!0):console.log("No hay data");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e&&t()}),[]);var Y=function(e){return e.find((function(e){return"admin"===e.nombre})).recomendaciones},H=function(e){var t=e.filter((function(e){return"admin"!==e.nombre})),a=Math.max.apply(Math,Object(Ue.a)(t.map((function(e){return e.recomendaciones})))),c=t.find((function(e){return e.recomendaciones===a}));return c.nombre+"|"+c.recomendaciones},G=function(e){var t=[],a=[],c=e.find((function(e){return"total"===e.nombre})).valor;e.forEach((function(e){"total"!==e.nombre&&(t.push(e.nombre),a.push(e.valor/c))}));z({labels:t,datasets:[{label:"Resultados",backgroundColor:["green","lightblue","violet","gray","orange","blue","red","yellow"],borderColor:"black",borderWidth:1,hoverBackgroundColor:"rgba(0,255,0,0.2)",hoverBorderColor:"#FF0000",data:a}]}),W({responsive:!0})},X=function(e){var t=[],a=[];e.forEach((function(e){"total"!==e.nombre&&(t.push(e.nombre),a.push(e.valor))}));A({labels:t,datasets:[{label:"Resultados",backgroundColor:["green","yellow","red"],borderColor:"black",borderWidth:1,hoverBackgroundColor:"rgba(0,255,0,0.2)",hoverBorderColor:"#FF0000",data:a}]}),M({maintainAspectRatio:!1,responsive:!0})};return C?Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)(N,{}),Object(x.jsxs)("div",{className:"container mb-5",children:[Object(x.jsx)("div",{className:"row titulo-contenedor",children:Object(x.jsx)("h1",{className:"titulo-seccion",children:"Dashboard:"})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-sm-6 col-md-4",children:Object(x.jsx)("div",{className:"card mb-3",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h1",{className:"class-Title center",children:"Cantidad de usuarios"}),Object(x.jsx)("p",{className:"titulo-seccion center",children:s})]})})}),Object(x.jsx)("div",{className:"col-sm-6 col-md-4",children:Object(x.jsx)("div",{className:"card mb-3",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h1",{className:"class-Title center",children:"Total de recomendaciones guardadas"}),Object(x.jsx)("p",{className:"titulo-seccion center",children:g})]})})}),Object(x.jsx)("div",{className:"col-sm-6 col-md-4",children:Object(x.jsx)("div",{className:"card mb-3",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h1",{className:"class-Title center",children:"Usuario con m\xe1s recomendaciones"}),Object(x.jsxs)("p",{className:"titulo-seccion center",children:[o,": ",h]})]})})})]}),Object(x.jsxs)("div",{className:"row center",children:[Object(x.jsx)("div",{className:"col-sm-6 col-md-6",children:Object(x.jsxs)("div",{className:"card center",children:[Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)("h1",{className:"class-Title center",children:"Retroalimentaci\xf3n de usuarios"})}),Object(x.jsx)("div",{style:{width:"400px",height:"400px"},children:Object(x.jsx)(De.a,{data:I,options:L})})]})}),Object(x.jsx)("div",{className:"col-sm-6 col-md-6",children:Object(x.jsxs)("div",{className:"card center",children:[Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)("h1",{className:"class-Title center",children:"Porcentajes de emociones"})}),Object(x.jsx)("div",{style:{width:"400px",height:"400px"},children:Object(x.jsx)(De.b,{data:_,options:q})})]})})]})]}),Object(x.jsx)(P,{})]}):Object(x.jsxs)(c.Fragment,{children:[Object(x.jsx)(N,{}),Object(x.jsx)(P,{})]})};var Be=function(){return Object(x.jsx)(f,{children:Object(x.jsx)(i.a,{children:Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.b,{exact:!0,path:"/",component:F}),Object(x.jsx)(o.b,{exact:!0,path:"/login",component:pe}),Object(x.jsx)(o.b,{exact:!0,path:"/nueva-cuenta",component:fe}),Object(x.jsx)(Ne,{exact:!0,path:"/home",component:ze}),Object(x.jsx)(Ne,{exact:!0,path:"/dashboard",component:Me}),Object(x.jsx)(Ne,{exact:!0,path:"/tomar-foto",component:Y}),Object(x.jsx)(Ne,{exact:!0,path:"/subir-descarga",component:J}),Object(x.jsx)(Ne,{exact:!0,path:"/resultado",component:he})]})})})},Ke=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,233)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};r.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(Be,{})}),document.getElementById("root")),Ke()},52:function(e,t,a){"use strict";(function(e){a.d(t,"c",(function(){return j})),a.d(t,"d",(function(){return b})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return h}));var c=a(8),s=a(10),n=a(11),r=a.n(n),i=a(17),o=a(18),l=a(94),d={client_id:"d7213c935bf147188c8301aedb3674b0",client_secret:"426fca1623fc4465b30f21a7ddf2a378"},j=function(){var t=Object(o.a)(r.a.mark((function t(a){var c,s,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=Object(i.a)(Object(i.a)({},a),d),s=Object.keys(c).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(c[e])})).join("&"),t.next=5,Object(l.a)({method:"POST",url:"https://accounts.spotify.com/api/token",body:s,headers:{"Content-type":"application/x-www-form-urlencoded",Authorization:"Basic "+new e("d7213c935bf147188c8301aedb3674b0:426fca1623fc4465b30f21a7ddf2a378").toString("base64")}});case 5:return n=t.sent,t.next=8,n.json();case 8:return t.abrupt("return",t.sent);case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(r.a.mark((function e(t,a){var c,n,i,o,d,j;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,c=new URL("https://api.spotify.com/v1/search"),n=Object(s.a)(t);try{for(n.s();!(i=n.n()).done;)o=i.value,d=Object.keys(o)[0],c.searchParams.append(d,o[d])}catch(r){n.e(r)}finally{n.f()}return e.next=6,Object(l.a)({method:"GET",url:c,headers:{Authorization:"Bearer ".concat(a)}});case 6:return j=e.sent,e.next=9,j.json();case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:return a=e.sent,c=JSON.stringify({name:"MMGB6.jpg",content:a}),"https://egzixmpkeh.execute-api.us-east-2.amazonaws.com/DEV/APR_Lambda",s={method:"POST",body:c},e.next=8,fetch("https://egzixmpkeh.execute-api.us-east-2.amazonaws.com/DEV/APR_Lambda",s).then((function(e){return e.json()}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){return new Promise((function(t,a){var c=new FileReader;c.readAsDataURL(e),c.onloadend=function(){return t(c.result.split(",")[1])}}))},h=function(e){var t,a=Math.max.apply(Math,Object(c.a)(e.map((function(e){return e.Confidence})))),s=e.find((function(e){return e.Confidence===a})).Type;switch(s){case"CALM":t="para bailar";break;case"SURPRISED":t="happy surprised";break;case"FEAR":t="calm songs";break;case"SAD":t="buen animo";break;case"CONFUSED":t="normal";break;case"DISGUSTED":t="canciones agradables";break;case"ANGRY":t="canciones tranquilas";break;case"HAPPY":t="happy happy songs"}return s+"|"+t}}).call(this,a(136).Buffer)},94:function(e,t,a){"use strict";function c(e){var t=e.url,a=e.params,c=e.method,s=e.body,n=e.headers;return fetch(t,{params:a,method:c,body:s,headers:n})}a.d(t,"a",(function(){return c}))}},[[195,1,2]]]);
//# sourceMappingURL=main.88d90f04.chunk.js.map